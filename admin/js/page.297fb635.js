(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page"],{"0c59":function(t,e,n){},1164:function(t,e,n){},"124f":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"social-container"},[n("div",{staticClass:"box",on:{click:function(e){return t.handleClick("wechat")}}},[n("span",{staticClass:"container",style:{backgroundColor:"#6ba2d6"}},[n("i",{staticClass:"iconfont icon-weixin",attrs:{"icon-class":"wechat"}})]),n("p",{staticClass:"title"},[t._v(t._s(t.$t("login.wechat")))])]),n("div",{staticClass:"box",on:{click:function(e){return t.handleClick("tencent")}}},[n("span",{staticClass:"container",style:{backgroundColor:"#8dc349"}},[n("i",{staticClass:"iconfont icon-qq",attrs:{"icon-class":"qq"}})]),n("p",{staticClass:"title"},[t._v(t._s(t.$t("login.qq")))])])])},s=[],a=n("0e0b"),o={name:"thirdLogin",methods:{handleClick:function(t){var e,n,i,s;i=encodeURIComponent(window.location.origin+"/#/authredirect"),"wechat"===t?(e="xxxx",s="https://open.weixin.qq.com/connect/qrconnect?appid="+e+"&redirect_uri="+i+"&state=WX&response_type=code&scope=snsapi_login#wechat_redirect"):"tencent"===t&&(n="xxxx",s="https://graph.qq.com/oauth2.0/authorize?response_type=code&state=QQ&client_id="+n+"&redirect_uri="+i),Object(a["f"])(s,t,540,540)}}},r=o,c=(n("1dab"),n("2877")),l=Object(c["a"])(r,i,s,!1,null,"2445427c",null);e["default"]=l.exports},"15c5":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lock-container"},[n("div",{staticClass:"lock-form animated bounceInDown"},[n("div",{staticClass:"animated",class:{shake:t.passwdError,bounceOut:t.pass}},[n("h3",{staticClass:"title"},[t._v(t._s(t.userInfo.username))]),n("el-input",{staticClass:"input-with-select animated",attrs:{placeholder:"请输入登录密码",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.passwd,callback:function(e){t.passwd=e},expression:"passwd"}},[n("el-button",{attrs:{slot:"append",icon:"icon-bofangqi-suoping"},on:{click:t.handleLogin},slot:"append"}),n("el-button",{attrs:{slot:"append",icon:"icon-tuichu"},on:{click:t.handleLogout},slot:"append"})],1)],1)])])},s=[],a=n("cebc"),o=n("5880"),r={name:"lock",data:function(){return{passwd:"",passwdError:!1,pass:!1}},created:function(){},mounted:function(){},computed:Object(a["a"])({},Object(o["mapState"])({userInfo:function(t){return t.user.userInfo}}),Object(o["mapGetters"])(["tag","lockPasswd"])),props:[],methods:{handleLogout:function(){var t=this;this.$confirm("是否退出系统, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.dispatch("LogOut").then(function(){t.$router.push({path:"/login"})})})},handleLogin:function(){var t=this;if(this.passwd!=this.lockPasswd)return this.passwd="",this.$message({message:"解锁密码错误,请重新输入",type:"error"}),this.passwdError=!0,void setTimeout(function(){t.passwdError=!1},1e3);this.pass=!0,setTimeout(function(){t.$store.commit("CLEAR_LOCK"),t.$router.push({path:t.$router.$avueRouter.getPath({src:t.tag.value})})},1e3)}},components:{}},c=r,l=(n("70dc"),n("2877")),u=Object(l["a"])(c,i,s,!1,null,null,null);e["default"]=u.exports},"1dab":function(t,e,n){"use strict";var i=n("2590"),s=n.n(i);s.a},2590:function(t,e,n){},"30eb":function(t,e,n){"use strict";var i=n("c6f3"),s=n.n(i);s.a},"363c":function(t,e,n){},5442:function(t,e,n){"use strict";var i=n("a173"),s=n.n(i);s.a},5596:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container",nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}}},[n("top-color",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]}),n("div",{staticClass:"login-weaper animated bounceInDown"},[n("div",{staticClass:"login-left"},[n("div",{staticClass:"login-time"},[t._v("\n        "+t._s(t.time)+"\n      ")]),t._v("\n      kissPlan\n      "),n("p",{staticClass:"title"},[t._v(t._s(t.$t("login.info")))])]),n("div",{staticClass:"login-border"},[n("div",{staticClass:"login-main"},[n("h4",{staticClass:"login-title"},[t._v("\n          "+t._s(t.$t("login.title"))+"kissPlan\n          "),n("top-lang")],1),"user"===t.activeName?n("userLogin"):"code"===t.activeName?n("codeLogin"):"third"===t.activeName?n("thirdLogin"):t._e()],1)])])],1)},s=[],a=n("cebc"),o=n("7c05"),r=n("acd4"),c=n("124f"),l=n("5880"),u=n("84df"),d=n("c54a"),f=n("c7cc"),m=n("44b2"),p={name:"login",components:{userLogin:o["default"],codeLogin:r["default"],thirdLogin:c["default"],topLang:f["default"],topColor:m["default"]},data:function(){return{time:"",activeName:"user"}},watch:{$route:function(){var t=this.$route.query;if(this.socialForm.state=t.state,this.socialForm.code=t.code,!Object(d["c"])(this.socialForm.state)){var e=this.$loading({lock:!0,text:"".concat("WX"===this.socialForm.state?"微信":"QQ","登录中,请稍后。。。"),spinner:"el-icon-loading"});setTimeout(function(){e.close()},2e3)}}},created:function(){var t=this;this.getTime(),setInterval(function(){t.getTime()},1e3)},mounted:function(){},computed:Object(a["a"])({},Object(l["mapGetters"])(["website"])),props:[],methods:{getTime:function(){this.time=Object(u["b"])(new Date)}}},h=p,g=(n("5442"),n("2877")),v=Object(g["a"])(h,i,s,!1,null,null,null);e["default"]=v.exports},"611b":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error-page"},[n("div",{staticClass:"img",staticStyle:{"background-image":"url('/img/bg/500.svg')"}}),n("div",{staticClass:"content"},[n("h1",[t._v("500")]),n("div",{staticClass:"desc"},[t._v("抱歉，服务器出错了")]),n("div",{staticClass:"actions"},[n("router-link",{attrs:{to:{path:"/"}}},[n("el-button",{attrs:{type:"primary"}},[t._v("返回首页")])],1)],1)])])},s=[],a={name:"error-500"},o=a,r=(n("a0ad"),n("2877")),c=Object(r["a"])(o,i,s,!1,null,"55c86129",null);e["default"]=c.exports},6580:function(t,e,n){"use strict";var i=n("e9c1"),s=n.n(i);s.a},"685e":function(t,e,n){"use strict";var i=n("0c59"),s=n.n(i);s.a},"70dc":function(t,e,n){"use strict";var i=n("758e"),s=n.n(i);s.a},"758e":function(t,e,n){},"7c05":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:t.loginRules,model:t.loginForm,"label-width":"0"}},[n("el-form-item",{attrs:{prop:"userName"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:t.$t("login.userName")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.loginForm.userName,callback:function(e){t.$set(t.loginForm,"userName",e)},expression:"loginForm.userName"}},[n("i",{staticClass:"icon-yonghu",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"passWord"}},[n("el-input",{attrs:{size:"small",type:t.passWordType,"auto-complete":"off",placeholder:t.$t("login.passWord")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.loginForm.passWord,callback:function(e){t.$set(t.loginForm,"passWord",e)},expression:"loginForm.passWord"}},[n("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:t.showpassWord},slot:"suffix"}),n("i",{staticClass:"icon-mima",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",[n("el-button",{staticClass:"login-submit",attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v(t._s(t.$t("login.submit")))])],1)],1)},s=[],a=n("cebc"),o=n("5880"),r=n("1ca4"),c={name:"userlogin",data:function(){return{tenantMode:r["a"].tenantMode,loginForm:{userName:"wyx",passWord:"123456",type:"account"},loginRules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],passWord:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,message:"密码长度最少为6位",trigger:"blur"}]},passWordType:"passWord"}},created:function(){},mounted:function(){},computed:Object(a["a"])({},Object(o["mapGetters"])(["tagWel"])),props:[],methods:{showpassWord:function(){""==this.passWordType?this.passWordType="passWord":this.passWordType=""},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(e){var n=t.$loading({lock:!0,text:"登录中,请稍后。。。",spinner:"el-icon-loading"});t.$store.dispatch("LoginByUsername",t.loginForm).then(function(){t.$router.push({path:t.tagWel.value}),n.close()})}})}}},l=c,u=n("2877"),d=Object(u["a"])(l,i,s,!1,null,null,null);e["default"]=d.exports},a0ad:function(t,e,n){"use strict";var i=n("363c"),s=n.n(i);s.a},a173:function(t,e,n){},a5fa:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error-page"},[n("div",{staticClass:"img",staticStyle:{"background-image":"url('/img/bg/404.svg')"}}),n("div",{staticClass:"content"},[n("h1",[t._v("404")]),n("div",{staticClass:"desc"},[t._v("抱歉，你访问的页面不存在")]),n("div",{staticClass:"actions"},[n("router-link",{attrs:{to:{path:"/"}}},[n("el-button",{attrs:{type:"primary"}},[t._v("返回首页")])],1)],1)])])},s=[],a={name:"error-404"},o=a,r=(n("dc15"),n("2877")),c=Object(r["a"])(o,i,s,!1,null,"5e9f17e3",null);e["default"]=c.exports},a8d0:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error-page"},[n("div",{staticClass:"img",staticStyle:{"background-image":"url('/img/bg/403.svg')"}}),n("div",{staticClass:"content"},[n("h1",[t._v("403")]),n("div",{staticClass:"desc"},[t._v("抱歉，你无权访问该页面")]),n("div",{staticClass:"actions"},[n("router-link",{attrs:{to:{path:"/"}}},[n("el-button",{attrs:{type:"primary"}},[t._v("返回首页")])],1)],1)])])},s=[],a={name:"error-403"},o=a,r=(n("6580"),n("2877")),c=Object(r["a"])(o,i,s,!1,null,"2be0fc08",null);e["default"]=c.exports},acd4:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:t.loginRules,model:t.loginForm,"label-width":"0"}},[n("el-form-item",{attrs:{prop:"phone"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:t.$t("login.phone")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.loginForm.phone,callback:function(e){t.$set(t.loginForm,"phone",e)},expression:"loginForm.phone"}},[n("i",{staticClass:"icon-shouji",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"code"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:t.$t("login.code")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.loginForm.code,callback:function(e){t.$set(t.loginForm,"code",e)},expression:"loginForm.code"}},[n("i",{staticClass:"icon-yanzhengma",staticStyle:{"margin-top":"6px"},attrs:{slot:"prefix"},slot:"prefix"}),n("template",{slot:"append"},[n("span",{staticClass:"msg-text",class:[{display:t.msgKey}],on:{click:t.handleSend}},[t._v(t._s(t.msgText))])])],2)],1),n("el-form-item",[n("el-button",{staticClass:"login-submit",attrs:{size:"small",type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v(t._s(t.$t("login.submit")))])],1)],1)},s=[],a=n("cebc"),o=n("c54a"),r=n("5880"),c={name:"codelogin",data:function(){var t=function(t,e,n){Object(o["b"])(e)[0]?n(new Error(Object(o["b"])(e)[1])):n()},e=function(t,e,n){4!=e.length?n(new Error("请输入4位数的验证码")):n()};return{msgText:"",msgTime:"",msgKey:!1,loginForm:{phone:"",code:""},loginRules:{phone:[{required:!0,trigger:"blur",validator:t}],code:[{required:!0,trigger:"blur",validator:e}]}}},created:function(){this.msgText=this.config.MSGINIT,this.msgTime=this.config.MSGTIME},mounted:function(){},computed:Object(a["a"])({},Object(r["mapGetters"])(["tagWel"]),{config:function(){return{MSGINIT:this.$t("login.msgText"),MSGSCUCCESS:this.$t("login.msgSuccess"),MSGTIME:60}}}),props:[],methods:{handleSend:function(){var t=this;if(!this.msgKey){this.msgText=this.msgTime+this.config.MSGSCUCCESS,this.msgKey=!0;var e=setInterval(function(){t.msgTime--,t.msgText=t.msgTime+t.config.MSGSCUCCESS,0==t.msgTime&&(t.msgTime=t.config.MSGTIME,t.msgText=t.config.MSGINIT,t.msgKey=!1,clearInterval(e))},1e3)}},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){e&&t.$store.dispatch("LoginByPhone",t.loginForm).then(function(){t.$router.push({path:t.tagWel.value})})})}}},l=c,u=(n("685e"),n("2877")),d=Object(u["a"])(l,i,s,!1,null,null,null);e["default"]=d.exports},c1a1:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("basic-container",[n("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:t.src}})])},s=[],a=(n("6b54"),n("a481"),n("cebc")),o=n("5880"),r=n("323e"),c=n.n(r),l=(n("a5d8"),{name:"AvueIframe",data:function(){return{urlPath:this.getUrlPath()}},created:function(){c.a.configure({showSpinner:!1})},mounted:function(){this.load(),this.resize()},props:["routerPath"],watch:{$route:function(){this.load()},routerPath:function(){this.urlPath=this.getUrlPath()}},computed:Object(a["a"])({},Object(o["mapGetters"])(["screen"]),{src:function(){return this.$route.query.src?this.$route.query.src.replace("$","#"):this.urlPath}}),methods:{show:function(){c.a.start()},hide:function(){c.a.done()},resize:function(){var t=this;window.onresize=function(){t.iframeInit()}},load:function(){var t=this;this.show();var e=!0;-1==this.$route.query.src.indexOf("?")&&(e=!1);var n=[];for(var i in this.$route.query)"src"!=i&&"name"!=i&&"i18n"!=i&&n.push("".concat(i,"= this.$route.query[key]"));n=n.join("&").toString(),this.$route.query.src=e?"".concat(this.$route.query.src).concat(n.length>0?"&list":""):"".concat(this.$route.query.src).concat(n.length>0?"?list":"");var s=3,a=setInterval(function(){s--,0==s&&(t.hide(),clearInterval(a))},1e3);this.iframeInit()},iframeInit:function(){var t=this,e=this.$refs.iframe,n=document.documentElement.clientHeight-(screen>1?200:130);e&&(e.style.height="".concat(n,"px"),e.attachEvent?e.attachEvent("onload",function(){t.hide()}):e.onload=function(){t.hide()})},getUrlPath:function(){var t=window.location.href;return t=t.replace("/myiframe",""),t}}}),u=l,d=(n("30eb"),n("2877")),f=Object(d["a"])(u,i,s,!1,null,null,null);e["default"]=f.exports},c6f3:function(t,e,n){},dc15:function(t,e,n){"use strict";var i=n("1164"),s=n.n(i);s.a},e9c1:function(t,e,n){}}]);