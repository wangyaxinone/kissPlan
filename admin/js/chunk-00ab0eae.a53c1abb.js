(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00ab0eae","views","chunk-2d0e4caf"],{"09e0f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data,page:e.page,permission:e.permissionList},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.param_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},o=[],i=(n("ac6a"),n("cebc")),r=n("b5c6"),s=function(e,t,n){return Object(r["a"])({url:"/api/blade-system/param/list",method:"get",params:Object(i["a"])({},n,{current:e,size:t})})},c=function(e){return Object(r["a"])({url:"/api/blade-system/param/remove",method:"post",params:{ids:e}})},l=function(e){return Object(r["a"])({url:"/api/blade-system/param/submit",method:"post",data:e})},u=function(e){return Object(r["a"])({url:"/api/blade-system/param/submit",method:"post",data:e})},p=n("5880"),d={data:function(){return{form:{},selectionList:[],page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,border:!0,index:!0,selection:!0,viewBtn:!0,column:[{label:"参数名称",prop:"paramName",search:!0,rules:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},{label:"参数键名",prop:"paramKey",search:!0,rules:[{required:!0,message:"请输入参数键名",trigger:"blur"}]},{label:"参数键值",prop:"paramValue",rules:[{required:!0,message:"请输入参数键值",trigger:"blur"}]}]},data:[]}},computed:Object(i["a"])({},Object(p["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.param_add,!1),viewBtn:this.vaildData(this.permission.param_view,!1),delBtn:this.vaildData(this.permission.param_delete,!1),editBtn:this.vaildData(this.permission.param_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t.id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;l(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;u(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return c(e.id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return c(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(e.currentPage,e.pageSize,n).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})}}},m=d,f=n("2877"),h=Object(f["a"])(m,a,o,!1,null,null,null);t["default"]=h.exports},"0a90":function(e,t,n){var a=n("63b6"),o=n("10ff");a(a.G+a.F*(parseFloat!=o),{parseFloat:o})},"0be7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{attrs:{option:e.option,data:e.data,page:e.page,"upload-before":e.uploadBefore,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"type",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.typeName))])]}},{key:"imgUrl",fn:function(e){var t=e.row;return[n("img",{staticStyle:{height:"50px"},attrs:{src:t.imgUrl,alt:""}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")])],1)],2)],1)},o=[],i=(n("ac6a"),n("cebc")),r=n("61b9"),s=n("5880"),c={data:function(){return{form:{},page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{tip:!1,border:!0,index:!0,viewBtn:!0,selection:!0,column:[{label:"图片",prop:"imgUrl",type:"upload",listType:"picture-img",propsHttp:{name:"url",url:"url",res:"data"},slot:!0,loadText:"附件上传中，请稍等",span:24,tip:"只能上传jpg/png文件，且不超过1M",action:"/api/admin/uploadFile",rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"图片类型",prop:"type",type:"select",dicUrl:"/api/admin/getDict?code=images",props:{label:"dictValue",value:"_id"},slot:!0,search:!0,rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"图片链接",prop:"imgLink",rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"图片标题",prop:"imgTitle"},{label:"图片描述",prop:"imgDescribe"},{label:"排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"是否打开新页面",prop:"isOpen",type:"radio",valueDefault:1,dicData:[{label:"否",value:0},{label:"是",value:1}]},{label:"是否显示",prop:"status",type:"radio",valueDefault:1,search:!0,dicData:[{label:"否",value:0},{label:"是",value:1}]}]},data:[]}},computed:Object(i["a"])({},Object(s["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.carousel_add,!1),viewBtn:this.vaildData(this.permission.carousel_view,!1),delBtn:this.vaildData(this.permission.carousel_delete,!1),editBtn:this.vaildData(this.permission.carousel_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t._id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(r["a"])(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;Object(r["d"])(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["c"])(e._id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["c"])(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e){e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.releaseTimeRange,o=Object(i["a"])({},n);a&&(o=Object(i["a"])({},n,{releaseTime_gt:a[0],releaseTime_lt:a[1]}),o.releaseTimeRange=null),Object(r["b"])(e.currentPage,e.pageSize,o).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})},uploadBefore:function(e,t,n){console.log(e.type);var a=["image/png","image/jpeg"].indexOf(e.type)>-1,o=e.size/1024/1024<1;return a?o?t():(this.$message.error("上传头像图片大小不能超过 2MB!"),n()):(this.$message.error("上传头像图片只能是 JPG 格式!"),n())}}},l=c,u=n("2877"),p=Object(u["a"])(l,a,o,!1,null,null,null);t["default"]=p.exports},"10ff":function(e,t,n){var a=n("e53d").parseFloat,o=n("a1ce").trim;e.exports=1/a(n("e692")+"-0")!==-1/0?function(e){var t=o(String(e),3),n=a(t);return 0===n&&"-"==t.charAt(0)?-0:n}:a},"14a7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data,page:e.page,permission:e.permissionList},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.tenant_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},o=[],i=(n("ac6a"),n("cebc")),r=n("b5c6"),s=function(e,t,n){return Object(r["a"])({url:"/api/blade-system/tenant/list",method:"get",params:Object(i["a"])({},n,{current:e,size:t})})},c=function(e){return Object(r["a"])({url:"/api/blade-system/tenant/remove",method:"post",params:{ids:e}})},l=function(e){return Object(r["a"])({url:"/api/blade-system/tenant/submit",method:"post",data:e})},u=function(e){return Object(r["a"])({url:"/api/blade-system/tenant/submit",method:"post",data:e})},p=n("5880"),d={data:function(){return{form:{},selectionList:[],page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,border:!0,index:!0,selection:!0,viewBtn:!0,dialogWidth:300,dialogHeight:400,column:[{label:"租户编号",prop:"tenantCode",search:!0,addDisplay:!1,editDisplay:!1,span:24,rules:[{required:!0,message:"请输入租户编号",trigger:"blur"}]},{label:"租户名称",prop:"tenantName",search:!0,span:24,rules:[{required:!0,message:"请输入参数名称",trigger:"blur"}]},{label:"联系人",prop:"linkman",search:!0,span:24,rules:[{required:!0,message:"请输入联系人",trigger:"blur"}]},{label:"联系电话",prop:"contactNumber",span:24},{label:"联系地址",prop:"address",span:24,minRows:6,type:"textarea"}]},data:[]}},computed:Object(i["a"])({},Object(p["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.tenant_add,!1),viewBtn:this.vaildData(this.permission.tenant_view,!1),delBtn:this.vaildData(this.permission.tenant_delete,!1),editBtn:this.vaildData(this.permission.tenant_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t.id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;l(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;u(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return c(e.id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return c(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(e.currentPage,e.pageSize,n).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})}}},m=d,f=n("2877"),h=Object(f["a"])(m,a,o,!1,null,null,null);t["default"]=h.exports},"1d46":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("avue-tabs",{attrs:{option:e.option},on:{change:e.handleChange,submit:e.handleSubmit},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},o=[],i={column:[{label:"个人信息",prop:"info",option:{submitText:"修改",column:[{label:"头像",type:"upload",listType:"picture-img",propsHttp:{res:"data.0"},canvasOption:{text:"avue",ratio:.1},action:"https://avueupload.91eic.com/upload/list",tip:"只能上传jpg/png用户头像，且不超过500kb",span:12,row:!0,prop:"img"},{label:"姓名",span:6,row:!0,prop:"name"},{label:"用户名",span:12,row:!0,prop:"username"},{label:"手机号",span:12,row:!0,prop:"phone"},{label:"个性签名",prop:"detail",span:24,row:!0,type:"textarea",minRows:5,maxRows:8}]}},{label:"修改密码",prop:"password",option:{submitText:"修改",column:[{label:"原密码",span:12,row:!0,type:"password",prop:"oldpassword"},{label:"新密码",span:12,row:!0,type:"password",prop:"newpassword"},{label:"确认密码",span:12,row:!0,type:"password",prop:"newpasswords"}]}}]},r={data:function(){return{type:"info",option:i,form:{}}},created:function(){this.handleWitch()},methods:{handleSubmit:function(){this.$message({message:this.form,type:"success"})},handleWitch:function(){"info"===this.type?this.form={username:"smallwei",name:"smallwei",phone:"1888888888888",detail:"这是一个个性签名"}:"password"===this.type&&(this.form={oldpassword:11111111,newpassword:22222222,newpasswords:22222222})},handleChange:function(e){this.type=e.prop,this.handleWitch()}}},s=r,c=n("2877"),l=Object(c["a"])(s,a,o,!1,null,null,null);t["default"]=l.exports},2004:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("请打开浏览器控制台，然后点击下面的按钮")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.handleNewError}},[e._v("触发一个错误\n  ")])],1)},i=[],r={methods:{handleNewError:function(){console.log(a)}}},s=r,c=n("2877"),l=Object(c["a"])(s,o,i,!1,null,null,null);t["default"]=l.exports},"21df":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{attrs:{option:e.option,data:e.data,page:e.page,"upload-before":e.uploadBefore,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"type",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.typeName))])]}},{key:"imgUrl",fn:function(e){var t=e.row;return[n("img",{staticStyle:{height:"50px"},attrs:{src:t.imgUrl,alt:""}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")])],1)],2)],1)},o=[],i=(n("ac6a"),n("cebc")),r=(n("cadf"),n("551c"),n("f751"),n("097d"),n("b5c6")),s=function(e){return Object(r["a"])({url:"/api/admin/images",method:"post",data:Object(i["a"])({},e)})},c=function(e,t,n){return Object(r["a"])({url:"/api/admin/imagesList",method:"get",params:Object(i["a"])({current:e,size:t},n)})},l=function(e){return Object(r["a"])({url:"/api/admin/images",method:"delete",params:{ids:e}})},u=function(e){return Object(r["a"])({url:"/api/admin/images",method:"put",data:Object(i["a"])({},e)})},p=n("5880"),d={data:function(){return{form:{},page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{tip:!1,border:!0,index:!0,viewBtn:!0,selection:!0,column:[{label:"图片",prop:"imgUrl",type:"upload",listType:"picture-img",propsHttp:{name:"url",url:"url",res:"data"},slot:!0,loadText:"附件上传中，请稍等",span:24,tip:"只能上传jpg/png文件，且不超过1M",action:"/api/admin/uploadFile",rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"图片类型",prop:"type",type:"select",dicUrl:"/api/admin/getDict?code=images",props:{label:"dictValue",value:"_id"},slot:!0,search:!0,rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"图片链接",prop:"imgLink",rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"图片标题",prop:"imgTitle"},{label:"图片描述",prop:"imgDescribe"},{label:"排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"是否打开新页面",prop:"isOpen",type:"radio",valueDefault:1,dicData:[{label:"否",value:0},{label:"是",value:1}]},{label:"是否显示",prop:"status",type:"radio",valueDefault:1,search:!0,dicData:[{label:"否",value:0},{label:"是",value:1}]}]},data:[]}},computed:Object(i["a"])({},Object(p["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.carousel_add,!1),viewBtn:this.vaildData(this.permission.carousel_view,!1),delBtn:this.vaildData(this.permission.carousel_delete,!1),editBtn:this.vaildData(this.permission.carousel_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t._id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;s(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;u(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return l(e._id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return l(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e){e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.releaseTimeRange,o=Object(i["a"])({},n);a&&(o=Object(i["a"])({},n,{releaseTime_gt:a[0],releaseTime_lt:a[1]}),o.releaseTimeRange=null),c(e.currentPage,e.pageSize,o).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})},uploadBefore:function(e,t,n){console.log(e.type);var a=["image/png","image/jpeg"].indexOf(e.type)>-1,o=e.size/1024/1024<1;return a?o?t():(this.$message.error("上传头像图片大小不能超过 2MB!"),n()):(this.$message.error("上传头像图片只能是 JPG 格式!"),n())}}},m=d,f=n("2877"),h=Object(f["a"])(m,a,o,!1,null,null,null);t["default"]=h.exports},2762:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[e._v("测试页")])},o=[],i={},r=i,s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);t["default"]=c.exports},"2ba9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen,page:e.page},on:{"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},o=[],i=(n("6762"),n("2fdb"),n("cebc")),r=n("62ed"),s=n("5880"),c={data:function(){return{form:{},selectionList:[],page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,border:!0,index:!0,viewBtn:!0,editBtn:!1,addBtn:!1,delBtn:!1,menuWidth:120,column:[{label:"服务id",prop:"serviceId",search:!0},{label:"服务host",prop:"serverHost",search:!0},{label:"服务ip",prop:"serverIp"},{label:"软件环境",prop:"env"},{label:"日志名",prop:"title"},{label:"请求方法",prop:"method"},{label:"请求接口",prop:"requestUri"},{label:"日志时间",prop:"createTime"},{label:"用户代理",prop:"userAgent",span:24,hide:!0},{label:"请求数据",prop:"params",type:"textarea",span:24,minRows:2,hide:!0}]},data:[]}},computed:Object(i["a"])({},Object(s["mapGetters"])(["permission"]),{permissionList:function(){return{viewBtn:this.vaildData(this.permission.log_api_view,!1)}}}),methods:{searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(r["b"])(this.form.strId).then(function(e){n.form=e.data.data}),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r["a"])(e.currentPage,e.pageSize,n).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})}}},l=c,u=n("2877"),p=Object(u["a"])(l,a,o,!1,null,null,null);t["default"]=p.exports},"2ec8":function(e,t,n){"use strict";var a=n("bbc4"),o=n.n(a);o.a},3528:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return p});var a=n("cebc"),o=n("b5c6"),i=function(e,t,n){return Object(o["a"])({url:"/api/admin/role",method:"get",params:Object(a["a"])({},n,{current:e,size:t})})},r=function(e,t){return Object(o["a"])({url:"/api/admin/roleMenuSave",method:"post",data:{roleId:e,menuId:t}})},s=function(e){return Object(o["a"])({url:"/api/admin/role",method:"delete",data:{ids:e}})},c=function(e){return Object(o["a"])({url:"/api/admin/role",method:"post",data:e})},l=function(e){return Object(o["a"])({url:"/api/admin/role",method:"put",data:e})},u=function(e){return Object(o["a"])({url:"/api/admin/roleMenuGet",method:"get",params:{roleId:e}})},p=function(e){return Object(o["a"])({url:"/api/admin/role",method:"get",params:{tenantCode:e}})}},"3f86":function(e,t,n){},"41cf":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("表格例子")]),n("avue-crud",{attrs:{option:e.option,page:e.page,data:e.data}})],1)},o=[],i={data:function(){return{page:{total:122},data:[{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"},{username:"smallwei",name:"avue",password:"123456",newpassword:"123456",date:"2019-01-01",textarea:"这是一条很长很长很长很长很长很长很长很长的个性签名"}],option:{column:[{label:"用户名",prop:"username",span:14,row:!0},{label:"姓名",prop:"name",span:14,row:!0},{label:"密码",prop:"password",type:"password",span:14,row:!0},{label:"确认密码",prop:"newpassword",type:"password",hide:!0,span:14,row:!0},{label:"申请日期",prop:"date",type:"date",span:14,row:!0},{label:"个性签名",prop:"textarea",type:"textarea",minRows:8,span:24,overHidden:!0,row:!0}]}}}},r=i,s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);t["default"]=c.exports},"4dc9":function(e,t,n){n("5737"),e.exports=n("584a").Number.isNaN},5589:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("表单例子")]),n("avue-form",{attrs:{option:e.option},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},o=[],i={data:function(){return{form:{},option:{labelWidth:110,column:[{label:"用户名",prop:"username",row:!0},{label:"密码",prop:"password",type:"password",row:!0},{label:"再次输入密码",prop:"password",type:"newpassword",row:!0},{label:"申请日期",prop:"date",type:"date",row:!0},{label:"个性签名",prop:"textarea",type:"textarea",minRows:8,row:!0}]}}}},r=i,s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);t["default"]=c.exports},"561f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("数据展示")]),n("avue-data-pay",{attrs:{option:e.option}})],1)},o=[],i={data:function(){var e=this;return{option:{span:8,data:[{title:"后台模版",src:"/img/bg/vip1.png",money:"299",dismoney:"199",tip:"/永久",color:"#808695",subtext:"购买",click:function(){e.box=!0},list:[{title:"点击体验",href:"https://cli1.avue.top",check:!0},{title:"面向全屏幕尺寸的响应式适配能力",check:!0},{title:"支持IE9+等系列浏览器",check:!0},{title:"全新的前端错误日志监控机制",check:!0},{title:"基于最新的avuex底层开发",check:!0},{title:"前端路由动态服务端加载",check:!0},{title:"灵活的多款主题自由配置",check:!0},{title:"模块的可拆卸化,达到开箱即用",check:!0},{title:"免费的私人git私服"},{title:"专属会员群"},{title:"前端最新干货分享"},{title:"赠送 Avue-cli脚手架文档（价值¥59.99）",href:"https://www.kancloud.cn/smallwei/avue"},{title:"赠送 Avue 修仙系列视频教程",href:"https://www.bilibili.com/video/av24644922",check:!0}]},{title:"Avuex源码",src:"/img/bg/vip2.png",color:"#ffa820",money:"999",dismoney:"399",tip:"/永久",subtext:"购买",click:function(){e.box=!0},list:[{title:"一键集成表格的导出excel,打印,等功能",check:!0},{title:"底层代码可重用轻松对接多个UI框架",check:!0},{title:"底层更加完善的开发错误调试机制",check:!0},{title:"一套代码多个终端自适应",check:!0},{title:"一键集成表格的导出excel，打印，等常用功能",check:!0},{title:"表格的批量操作,表单的级联操作更加便捷",check:!0},{title:"新增大量常用组件（搜索，选项卡）",check:!0},{title:"新增大量全新可配置的骚属性",check:!0},{title:"丰富的数据展示模版组件包",check:!0},{title:"专属的开发者文档，助你快速掌握",check:!0},{title:"赠送 Avue-cli脚手架文档（价值¥59.99）",href:"https://www.kancloud.cn/smallwei/avue",check:!0},{title:"赠送 Avue 修仙系列视频教程",href:"https://www.bilibili.com/video/av24644922",check:!0}]},{title:"全家桶",src:"/img/bg/vip3.png",color:"#ef4868",money:"999.99",dismoney:"399.99",tip:"/永久",subtext:"购买",click:function(){e.box=!0},list:[{title:"授权商业化开发,永久更新授权使用",check:!0},{title:"后期更新和新产品将全部免费",check:!0},{title:"拥有avuex系列的全部特权和全部源码",check:!0},{title:"免费的私人git私服",check:!0},{title:"专属会员群",check:!0},{title:"前端最新干货分享",check:!0},{title:"赠送 Avue-cli脚手架文档（价值¥59.99）",href:"https://www.kancloud.cn/smallwei/avue",check:!0},{title:"赠送 Avue 修仙系列视频教程",href:"https://www.bilibili.com/video/av24644922",check:!0}]}]}}}},r=i,s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);t["default"]=c.exports},5737:function(e,t,n){var a=n("63b6");a(a.S,"Number",{isNaN:function(e){return e!=e}})},5789:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[n("h3",[e._v("表格权限控制")]),n("avue-crud",{ref:"crud",attrs:{permission:e.permission,option:e.option,data:e.data},on:{"expand-change":e.expandChange},scopedSlots:e._u([{key:"expand",fn:function(t){return[e._v("\n        "+e._s(t)+"\n      ")]}}])})],1),n("basic-container",[e._v("\n    权限开关\n    "),n("el-switch",{attrs:{"active-value":!1,"inactive-value":!0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),n("p",[e._v(" 具体参考"),n("a",{attrs:{href:"https://avuex.avue.top/#/doc/crud-permission"}},[e._v("https://avuex.avue.top/#/doc/crud-permission")])])],1)],1)},o=[],i=(n("cadf"),n("551c"),n("f751"),n("097d"),{data:function(){return{text:!1,permission:{},option:{expand:!0,column:[{label:"姓名",prop:"name"},{label:"年龄",prop:"sex"}]},data:[{id:1,name:"张三",sex:12},{id:2,name:"李四",sex:20}]}},watch:{text:function(){!0===this.text?this.permission={delBtn:!1,addBtn:!1}:this.permission={delBtn:!0,addBtn:!0}}}}),r=i,s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);t["default"]=c.exports},"59ad":function(e,t,n){e.exports=n("7be7")},"5ad2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("标签")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.push("/test/index")}}},[e._v("打开一个页面\n  ")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.$avueRouter.closeTag("/test/index")}}},[e._v("关闭打开的页面\n  ")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.$router.$avueRouter.closeTag()}}},[e._v("关闭本标签\n  ")])],1)},o=[],i={methods:{}},r=i,s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);t["default"]=c.exports},"5b31":function(e,t,n){"use strict";var a=n("7807"),o=n.n(a);o.a},"5bab":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data,permission:e.permissionList,page:e.page,"before-open":e.beforeOpen},on:{"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},o=[],i=(n("6762"),n("2fdb"),n("cebc")),r=n("62ed"),s=n("5880"),c={data:function(){return{form:{},selectionList:[],page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,border:!0,index:!0,viewBtn:!0,editBtn:!1,addBtn:!1,delBtn:!1,menuWidth:120,column:[{label:"服务id",prop:"serviceId",search:!0},{label:"服务host",prop:"serverHost",search:!0},{label:"服务ip",prop:"serverIp"},{label:"软件环境",prop:"env"},{label:"日志级别",prop:"logLevel"},{label:"日志id",prop:"logId"},{label:"请求接口",prop:"requestUri"},{label:"日志时间",prop:"logData"},{label:"用户代理",prop:"userAgent",span:24,hide:!0},{label:"请求数据",prop:"params",type:"textarea",span:24,minRows:2,hide:!0}]},data:[]}},computed:Object(i["a"])({},Object(s["mapGetters"])(["permission"]),{permissionList:function(){return{viewBtn:this.vaildData(this.permission.log_usual_view,!1)}}}),methods:{searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(r["f"])(this.form.strId).then(function(e){n.form=e.data.data}),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r["e"])(e.currentPage,e.pageSize,n).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})}}},l=c,u=n("2877"),p=Object(u["a"])(l,a,o,!1,null,null,null);t["default"]=p.exports},"5d8a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"source",fn:function(e){var t=e.row;return[n("div",{staticStyle:{"text-align":"center"}},[n("i",{class:t.source})])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.menu_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},o=[],i=(n("6762"),n("2fdb"),n("ac6a"),n("cebc")),r=n("a6dc"),s=n("5880"),c=[{label:"通用图标",list:["iconfont iconicon_roundadd","iconfont iconicon_compile","iconfont iconicon_glass","iconfont iconicon_roundclose","iconfont iconicon_roundreduce","iconfont iconicon_delete","iconfont iconicon_shakehands","iconfont iconicon_task_done","iconfont iconicon_voipphone","iconfont iconicon_safety","iconfont iconicon_work","iconfont iconicon_study","iconfont iconicon_task","iconfont iconicon_subordinate","iconfont iconicon_star","iconfont iconicon_setting","iconfont iconicon_sms","iconfont iconicon_share","iconfont iconicon_secret","iconfont iconicon_scan_namecard","iconfont iconicon_principal","iconfont iconicon_group","iconfont iconicon_send","iconfont iconicon_scan","iconfont iconicon_search","iconfont iconicon_refresh","iconfont iconicon_savememo","iconfont iconicon_QRcode","iconfont iconicon_im_keyboard","iconfont iconicon_redpacket","iconfont iconicon_photo","iconfont iconicon_qq","iconfont iconicon_wechat","iconfont iconicon_phone","iconfont iconicon_namecard","iconfont iconicon_notice","iconfont iconicon_next_arrow","iconfont iconicon_left","iconfont iconicon_more","iconfont iconicon_details","iconfont iconicon_message","iconfont iconicon_mobilephone","iconfont iconicon_im_voice","iconfont iconicon_GPS","iconfont iconicon_ding","iconfont iconicon_exchange","iconfont iconicon_cspace","iconfont iconicon_doc","iconfont iconicon_dispose","iconfont iconicon_discovery","iconfont iconicon_community_line","iconfont iconicon_cloud_history","iconfont iconicon_coinpurse_line","iconfont iconicon_airplay","iconfont iconicon_at","iconfont iconicon_addressbook","iconfont iconicon_boss","iconfont iconicon_addperson","iconfont iconicon_affiliations_li","iconfont iconicon_addmessage","iconfont iconicon_addresslist","iconfont iconicon_add"]},{label:"系统图标",list:["iconfont icon-zhongyingwen","iconfont icon-caidan","iconfont icon-rizhi1","iconfont icon-zhuti","iconfont icon-suoping","iconfont icon-bug","iconfont icon-qq1","iconfont icon-weixin1","iconfont icon-shouji","iconfont icon-mima","iconfont icon-yonghu","iconfont icon-yanzhengma","iconfont icon-canshu","iconfont icon-dongtai","iconfont icon-iconset0265","iconfont icon-shujuzhanshi2","iconfont icon-tuichuquanping","iconfont icon-rizhi","iconfont icon-cuowutishitubiao","iconfont icon-debug","iconfont icon-iconset0216","iconfont icon-quanxian","iconfont icon-quanxian","iconfont icon-shuaxin","iconfont icon-bofangqi-suoping","iconfont icon-quanping","iconfont icon-navicon","iconfont icon-biaodan","iconfont icon-liuliangyunpingtaitubiao08","iconfont icon-caidanguanli","iconfont icon-cuowu","iconfont icon-wxbgongju","iconfont icon-tuichu","iconfont icon-daohanglanmoshi02","iconfont icon-changyonglogo27","iconfont icon-biaoge","iconfont icon-baidu1","iconfont icon-tubiao","iconfont icon-souhu","iconfont icon-msnui-360","iconfont icon-iframe","iconfont icon-huanyingye"]}],l={data:function(){return{form:{},selectionList:[],page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,dialogWidth:"60%",tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,column:[{label:"菜单名称",prop:"name",search:!0,rules:[{required:!0,message:"请输入菜单名称",trigger:"blur"}]},{label:"路由地址",prop:"path",rules:[{required:!0,message:"请输入路由地址",trigger:"blur"}]},{label:"上级菜单",prop:"parentId",type:"tree",dicUrl:"/api/admin/menu",hide:!0,props:{label:"name",value:"_id"},rules:[{required:!1,message:"请选择上级菜单",trigger:"click"}]},{label:"菜单图标",prop:"source",type:"icon-select",slot:!0,iconList:c,rules:[{required:!0,message:"请输入菜单图标",trigger:"click"}]},{label:"菜单编号",prop:"code",search:!0,rules:[{required:!0,message:"请输入菜单编号",trigger:"blur"}]},{label:"菜单类型",prop:"category",type:"radio",dicData:[{label:"菜单",value:1},{label:"按钮",value:2}],hide:!0,rules:[{required:!0,message:"请选择菜单类型",trigger:"blur"}]},{label:"菜单别名",prop:"alias",rules:[{required:!0,message:"请输入菜单别名",trigger:"blur"}]},{label:"菜单排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"新窗口",prop:"isOpen",type:"radio",dicData:[{label:"否",value:0},{label:"是",value:1}],hide:!0},{label:"菜单备注",prop:"remark",type:"textarea",span:24,minRows:6,hide:!0}]},data:[]}},computed:Object(i["a"])({},Object(s["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.menu_add,!1),viewBtn:this.vaildData(this.permission.menu_view,!1),delBtn:this.vaildData(this.permission.menu_delete,!1),editBtn:this.vaildData(this.permission.menu_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t.id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(r["a"])(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;Object(r["e"])(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["d"])([e.id])}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["d"])(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(r["c"])(this.form.id).then(function(e){n.form=e.data.data}),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r["b"])(n).then(function(e){var n=e.data.data;t.data=n})}}},u=l,p=n("2877"),d=Object(p["a"])(u,a,o,!1,null,null,null);t["default"]=d.exports},"5f50":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{attrs:{option:e.option,data:e.data,page:e.page,"upload-before":e.uploadBefore,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"type",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.typeName))])]}},{key:"imgUrl",fn:function(e){var t=e.row;return[n("img",{staticStyle:{height:"50px"},attrs:{src:t.imgUrl,alt:""}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")])],1)],2)],1)},o=[],i=(n("ac6a"),n("cebc")),r=n("61b9"),s=n("5880"),c={data:function(){return{form:{},page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{tip:!1,border:!0,index:!0,viewBtn:!0,selection:!0,column:[{label:"文章标题",prop:"title",search:!0,rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"文章类型",prop:"user",type:"select",dicUrl:"/api/admin/getDict?code=articleType",props:{label:"dictValue",value:"_id"},slot:!0,search:!0,rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"文章类型",prop:"type",type:"select",dicUrl:"/api/admin/getDict?code=articleType",props:{label:"dictValue",value:"_id"},slot:!0,search:!0,rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"图片链接",prop:"imgLink",rules:[{required:!0,message:"不能为空",trigger:"blur"}]},{label:"图片标题",prop:"imgTitle"},{label:"图片描述",prop:"imgDescribe"},{label:"排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入菜单排序",trigger:"blur"}]},{label:"是否打开新页面",prop:"isOpen",type:"radio",valueDefault:1,dicData:[{label:"否",value:0},{label:"是",value:1}]},{label:"是否显示",prop:"status",type:"radio",valueDefault:1,search:!0,dicData:[{label:"否",value:0},{label:"是",value:1}]}]},data:[]}},computed:Object(i["a"])({},Object(s["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.carousel_add,!1),viewBtn:this.vaildData(this.permission.carousel_view,!1),delBtn:this.vaildData(this.permission.carousel_delete,!1),editBtn:this.vaildData(this.permission.carousel_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t._id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(r["a"])(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;Object(r["d"])(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["c"])(e._id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["c"])(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e){e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.releaseTimeRange,o=Object(i["a"])({},n);a&&(o=Object(i["a"])({},n,{releaseTime_gt:a[0],releaseTime_lt:a[1]}),o.releaseTimeRange=null),Object(r["b"])(e.currentPage,e.pageSize,o).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})},uploadBefore:function(e,t,n){console.log(e.type);var a=["image/png","image/jpeg"].indexOf(e.type)>-1,o=e.size/1024/1024<1;return a?o?t():(this.$message.error("上传头像图片大小不能超过 2MB!"),n()):(this.$message.error("上传头像图片只能是 JPG 格式!"),n())}}},l=c,u=n("2877"),p=Object(u["a"])(l,a,o,!1,null,null,null);t["default"]=p.exports},"61b9":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c});var a=n("cebc"),o=n("b5c6"),i=function(e){return Object(o["a"])({url:"/api/admin/images",method:"post",data:Object(a["a"])({},e)})},r=function(e,t,n){return Object(o["a"])({url:"/api/admin/images",method:"get",params:Object(a["a"])({current:e,size:t},n)})},s=function(e){return Object(o["a"])({url:"/api/admin/images",method:"delete",params:{ids:e}})},c=function(e){return Object(o["a"])({url:"/api/admin/images",method:"put",data:Object(a["a"])({},e)})}},"62ed":function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l});var a=n("b5c6"),o=function(e,t){return Object(a["a"])({url:"/api/blade-log/usual/list",method:"get",params:{current:e,size:t}})},i=function(e,t){return Object(a["a"])({url:"/api/blade-log/api/list",method:"get",params:{current:e,size:t}})},r=function(e,t){return Object(a["a"])({url:"/api/blade-log/error/list",method:"get",params:{current:e,size:t}})},s=function(e){return Object(a["a"])({url:"/api/blade-log/usual/detail",method:"get",params:{id:e}})},c=function(e){return Object(a["a"])({url:"/api/blade-log/api/detail",method:"get",params:{id:e}})},l=function(e){return Object(a["a"])({url:"/api/blade-log/error/detail",method:"get",params:{id:e}})}},"692e":function(e,t,n){var a={"./App.vue":"3dfd","./components/basic-container/main.vue":"dc8a","./components/error-page/403.vue":"a8d0","./components/error-page/404.vue":"a5fa","./components/error-page/500.vue":"611b","./components/formBuilder/addFrom.vue":"e5c0","./components/formBuilder/addGroup.vue":"acbc","./components/formBuilder/json.vue":"8f6a","./components/formBuilder/main.vue":"8509","./components/iframe/main.vue":"c1a1","./page/index/index.vue":"9cc4","./page/index/layout.vue":"9277","./page/index/logo.vue":"7d3a","./page/index/sidebar/index.vue":"20bf","./page/index/sidebar/sidebarItem.vue":"7505","./page/index/tags.vue":"5ddc","./page/index/top/index.vue":"195f","./page/index/top/top-color.vue":"44b2","./page/index/top/top-lang.vue":"c7cc","./page/index/top/top-lock.vue":"14cd","./page/index/top/top-logs.vue":"0f22","./page/index/top/top-menu.vue":"286c","./page/index/top/top-search.vue":"9812","./page/index/top/top-theme.vue":"107f","./page/lock/index.vue":"15c5","./page/login/authredirect.vue":"84a6","./page/login/codelogin.vue":"acd4","./page/login/index.vue":"5596","./page/login/thirdlogin.vue":"124f","./page/login/userlogin.vue":"7c05","./page/logs/index.vue":"08ae","./views/article/articleList.vue":"5f50","./views/article/author.vue":"eb75","./views/images/carousel.vue":"0be7","./views/images/qiNiu.vue":"21df","./views/monitor/log/api.vue":"2ba9","./views/monitor/log/error.vue":"7501","./views/monitor/log/usual.vue":"5bab","./views/system/client.vue":"9765","./views/system/dept.vue":"88b6","./views/system/dict.vue":"6bce","./views/system/menu.vue":"5d8a","./views/system/param.vue":"09e0f","./views/system/role.vue":"f982","./views/system/tenant.vue":"14a7","./views/system/user.vue":"b979","./views/test.vue":"2762","./views/user/info.vue":"1d46","./views/util/data.vue":"561f","./views/util/form.vue":"5589","./views/util/logs.vue":"2004","./views/util/permission.vue":"5789","./views/util/store.vue":"88b0","./views/util/table.vue":"41cf","./views/util/tags.vue":"5ad2","./views/util/test.vue":"ab5c","./views/wel.vue":"d731"};function o(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="692e"},"6bce":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.dict_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},o=[],i=(n("ac6a"),n("cebc")),r=n("b5c6"),s=function(e){return Object(r["a"])({url:"/api/admin/dictionarie",method:"get",params:Object(i["a"])({},e)})},c=function(e){return Object(r["a"])({url:"/api/admin/dictionarie",method:"delete",params:{ids:e}})},l=function(e){return Object(r["a"])({url:"/api/admin/dictionarie",method:"post",data:e})},u=function(e){return Object(r["a"])({url:"/api/admin/dictionarie",method:"put",data:e})},p=n("5880"),d={data:function(){return{form:{},selectionList:[],page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,tree:!0,border:!0,selection:!0,viewBtn:!0,column:[{label:"字典编号",prop:"code",search:!0,span:24,rules:[{required:!0,message:"请输入字典编号",trigger:"blur"}]},{label:"字典名称",prop:"dictValue",search:!0,rules:[{required:!0,message:"请输入字典名称",trigger:"blur"}]},{label:"上级字典",prop:"parentId",type:"tree",dicData:[],hide:!0,props:{label:"dictValue",value:"_id"},rules:[{required:!1,message:"请选择上级字典",trigger:"click"}]},{label:"字典键值",prop:"dictKey",type:"number",rules:[{required:!0,message:"请输入字典键值",trigger:"blur"}]},{label:"字典排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入字典排序",trigger:"blur"}]},{label:"字典备注",prop:"remark",span:24,hide:!0}]},data:[]}},computed:Object(i["a"])({},Object(p["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.dict_add,!1),viewBtn:this.vaildData(this.permission.dict_view,!1),delBtn:this.vaildData(this.permission.dict_delete,!1),editBtn:this.vaildData(this.permission.dict_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t.id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;l(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;u(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return c(e.id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return c(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(n).then(function(e){var n=e.data.data;t.data=n,s().then(function(e){var n=e.data.data,a=t.$refs.crud.findColumnIndex("parentId");t.option.column[a].dicData=n})})}}},m=d,f=n("2877"),h=Object(f["a"])(m,a,o,!1,null,null,null);t["default"]=h.exports},7501:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data,"before-open":e.beforeOpen,permission:e.permissionList,page:e.page},on:{"search-change":e.searchChange,"search-reset":e.searchReset,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},o=[],i=(n("6762"),n("2fdb"),n("cebc")),r=n("62ed"),s=n("5880"),c={data:function(){return{form:{},selectionList:[],page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,border:!0,index:!0,viewBtn:!0,editBtn:!1,addBtn:!1,delBtn:!1,menuWidth:120,column:[{label:"服务id",prop:"serviceId",search:!0},{label:"服务host",prop:"serverHost",search:!0},{label:"服务ip",prop:"serverIp"},{label:"软件环境",prop:"env"},{label:"日志名",prop:"title"},{label:"请求方法",prop:"method"},{label:"请求接口",prop:"requestUri"},{label:"日志时间",prop:"createTime"},{label:"用户代理",prop:"userAgent",span:24,hide:!0},{label:"请求数据",prop:"params",type:"textarea",span:24,minRows:2,hide:!0},{label:"日志数据",prop:"stackTrace",type:"textarea",span:24,minRows:6,hide:!0}]},data:[]}},computed:Object(i["a"])({},Object(s["mapGetters"])(["permission"]),{permissionList:function(){return{viewBtn:this.vaildData(this.permission.log_error_view,!1)}}}),methods:{searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(r["d"])(this.form.strId).then(function(e){n.form=e.data.data}),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r["c"])(e.currentPage,e.pageSize,n).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})}}},l=c,u=n("2877"),p=Object(u["a"])(l,a,o,!1,null,null,null);t["default"]=p.exports},7807:function(e,t,n){},"7be7":function(e,t,n){n("0a90"),e.exports=n("584a").parseFloat},8376:function(e,t,n){"use strict";var a=n("3f86"),o=n.n(a);o.a},"84a6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},o=[],i={name:"authredirect",created:function(){window.close();var e=this.$route.query,t=e.state,n=e.code;window.opener.location.href="".concat(window.location.origin,"/#/login?state=").concat(t,"&code=").concat(n)}},r=i,s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);t["default"]=c.exports},8509:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"formBuilder"},[n("el-dialog",{attrs:{title:"表单生成器",visible:e.createInputBool,width:"60%"},on:{"update:visible":function(t){e.createInputBool=t}}},[n("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.handleAddGroup}},[e._v("添加分组")]),n("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.handleAddFrom}},[e._v("添加表单")]),n("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.handleAddFromJson}},[e._v("JSON")]),n("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"small"},on:{click:e.handleRemove}},[e._v("删除")]),e.fromData&&!e.fromData.length?n("div",{staticStyle:{"text-align":"center","font-size":"20px",color:"#999","font-weight":"bold"}},[e._v("暂无表单配置")]):e._e(),n("div",{staticClass:"from_group_container"},e._l(e.fromData,function(t,a){return n("div",{key:t.prop,staticClass:"from_group"},[n("div",{staticClass:"group",class:{edit:t.isEdit},on:{mouseenter:function(t){return e.mouseenterGroup(a)},mouseleave:function(t){return e.mouseleaveGroup(a)}}},[t.isEdit?n("div",{staticClass:"edit_mask"},[n("el-button",{staticClass:"btn_edit",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.editFromItemGroup(a)}}},[e._v("编辑")]),n("el-button",{staticClass:"btn_delete",attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteFromItemGroup(a)}}},[e._v("删除")])],1):e._e(),n("i",{class:t.icon}),n("h3",{staticStyle:{display:"inline-block","margin-left":"10px"}},[e._v(e._s(t.label))])]),n("el-form",{ref:"ruleForm",refInFor:!0,staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[n("el-row",{attrs:{gutter:20}},e._l(t.column,function(t,o){return n("el-col",{key:t.prop,attrs:{span:parseFloat(t.span)}},[n("div",{class:{edit:t.isEdit},on:{mouseenter:function(t){return e.mouseenter(a,o)},mouseleave:function(t){return e.mouseleave(a,o)}}},[t.isEdit?n("div",{staticClass:"edit_mask"},[n("el-button",{staticClass:"btn_edit",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.editFromItem(a,o)}}},[e._v("编辑")]),n("el-button",{staticClass:"btn_delete",attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteFromItem(a,o)}}},[e._v("删除")])],1):e._e(),n("el-form-item",{attrs:{label:t.label,prop:t.prop}},["input"===t.type||"textarea"===t.type?n("el-input",{attrs:{type:"textarea"===t.type?"textarea":""},model:{value:e.ruleForm[t.prop],callback:function(n){e.$set(e.ruleForm,t.prop,n)},expression:"ruleForm[item.prop]"}}):"select"===t.type?n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.placeholder},model:{value:e.ruleForm[t.prop],callback:function(n){e.$set(e.ruleForm,t.prop,n)},expression:"ruleForm[item.prop]"}},e._l(t.dicData||[],function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):"date"===t.type?n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:t.placeholder},model:{value:e.ruleForm[t.prop],callback:function(n){e.$set(e.ruleForm,t.prop,n)},expression:"ruleForm[item.prop]"}}):"time"===t.type?n("el-time-picker",{staticStyle:{width:"100%"},attrs:{type:"fixed-time",placeholder:t.placeholder},model:{value:e.ruleForm[t.prop],callback:function(n){e.$set(e.ruleForm,t.prop,n)},expression:"ruleForm[item.prop]"}}):"datetime"===t.type?n("el-time-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:t.placeholder},model:{value:e.ruleForm[t.prop],callback:function(n){e.$set(e.ruleForm,t.prop,n)},expression:"ruleForm[item.prop]"}}):"switch"===t.type?n("el-switch",{model:{value:e.ruleForm[t.prop],callback:function(n){e.$set(e.ruleForm,t.prop,n)},expression:"ruleForm[item.prop]"}}):"checkbox"===t.type?n("el-checkbox-group",{model:{value:e.ruleForm[t.prop],callback:function(n){e.$set(e.ruleForm,t.prop,n)},expression:"ruleForm[item.prop]"}},e._l(t.dicData||[],function(e,t){return n("el-checkbox",{key:t,attrs:{label:e.label,name:"type"}})}),1):"radio"===t.type?n("el-radio-group",{model:{value:e.ruleForm[t.prop],callback:function(n){e.$set(e.ruleForm,t.prop,n)},expression:"ruleForm[item.prop]"}},e._l(t.dicData||[],function(e,t){return n("el-radio",{key:t,attrs:{label:e.label}})}),1):e._e()],1)],1)])}),1)],1)],1)}),0),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.createInputBool=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handlecreateInput}},[e._v("确 定")])],1)],1),n("addFrom",{ref:"addFrom",attrs:{data:e.currData,groupList:e.fromData},on:{submit:e.getAddFromData}}),n("json",{ref:"json",attrs:{data:e.fromData},on:{submit:e.getAddFromDataJSON}}),n("addGroup",{ref:"addGroup",attrs:{data:e.currData},on:{submit:e.getGroupData}})],1)},o=[],i=(n("ac6a"),n("f499")),r=n.n(i),s=n("e5c0"),c=n("acbc"),l=n("8f6a"),u=n("0e0b"),p=n("cebc"),d=n("b5c6"),m=function(e){return Object(d["a"])({url:"/api/blade-desk/flowform/submit",method:"post",data:Object(p["a"])({},e)})},f=function(e){return Object(d["a"])({url:"/api/blade-desk/flowform/list",method:"get",params:Object(p["a"])({},e)})},h=function(e){return Object(d["a"])({url:"/api/blade-desk/flowform/remove",method:"post",params:Object(p["a"])({},e)})},g={name:"formBuilder",data:function(){return{createInputBool:!1,ruleForm:{},rules:{},fromData:[],currData:{},currIndex:0,resData:[]}},props:["currentData"],components:{addFrom:s["default"],json:l["default"],addGroup:c["default"]},methods:{show:function(){this.createInputBool=!0},hide:function(){this.createInputBool=!1},getFlowformHandle:function(){var e=this;f({modelId:this.currentData?this.currentData.id:""}).then(function(t){if(200===t.data.code){var n=t.data.data,a=n.records;a&&a.length?(e.fromData=JSON.parse(a[0].form),e.resData=a):(e.fromData=[],e.resData=[])}})},handlecreateInput:function(){var e=this;m({id:this.resData[0]?this.resData[0].id:void 0,processDefinitionId:"",modelId:this.currentData?this.currentData.id:"",form:r()(this.fromData)}).then(function(t){200===t.data.code&&(e.$message({message:"操作成功",type:"success"}),e.hide())})},handleRemove:function(){var e=this,t=[];this.resData.forEach(function(e){t.push(e.id)}),h({ids:t.join(",")}).then(function(t){t.data&&200==t.data.code&&(e.$message({message:"删除成功",type:"success"}),e.fromData=[])})},handleAddGroup:function(){this.$refs["addGroup"].show(),this.currIndex=-1,this.$refs["addGroup"].clearData()},handleAddFrom:function(){this.currData={},this.currIndex=-1,this.$refs["addFrom"].show(),this.$refs["addFrom"].clear()},handleAddFromJson:function(){this.$refs["json"].show()},getAddFromData:function(e){"undefined"==typeof this.ruleForm[e.prop]&&("checkbox"===e.type?this.$set(this.ruleForm,e.prop,this.ruleForm[e.prop]||[]):this.$set(this.ruleForm,e.prop,this.ruleForm[e.prop]||"")),e.isEdit=!1;var t=0,n={};this.fromData.forEach(function(a,o){a.prop===e.group&&(t=o),a.column&&a.column.length&&a.column.forEach(function(e){n[e.prop]=!0})});var a=Object(u["a"])(this.fromData[t]);if(-1!==this.currIndex)return a.column.splice(this.currIndex,1,e),this.fromData.splice(t,1,a),this.$refs["addFrom"].hide(),void this.$refs["addFrom"].clear();n[e.prop]?this.$message.error("当前表单key重复，请重新输入"):(-1===this.currIndex&&a.column.push(e),this.fromData.splice(t,1,a),this.$refs["addFrom"].hide(),this.$refs["addFrom"].clear())},getAddFromDataJSON:function(e){this.fromData=e},getGroupData:function(e){if(e.column=e.column||[],e.isEdit=!1,this.fromData&&this.fromData.length){var t={};if(-1!==this.currIndex)return e.column=this.fromData[this.currIndex].column,this.fromData.splice(this.currIndex,1,e),this.$refs["addGroup"].clearData(),void this.$refs["addGroup"].hide();this.fromData.forEach(function(e){t[e.prop]=!0}),t[e.prop]?this.$message.error("当前分组key重复，请重新输入"):(this.fromData.push(e),this.$refs["addGroup"].clearData(),this.$refs["addGroup"].hide())}else this.fromData.push(e),this.$refs["addGroup"].clearData(),this.$refs["addGroup"].hide();console.log(this.fromData)},mouseenter:function(e,t){var n=this.fromData[e].column[t];n.isEdit=!0,this.fromData[e].column.splice(t,1,n)},mouseleave:function(e,t){var n=this.fromData[e].column[t];n.isEdit=!1,this.fromData[e].column.splice(t,1,n)},mouseenterGroup:function(e){var t=this.fromData[e];t.isEdit=!0,this.fromData.splice(e,1,t)},mouseleaveGroup:function(e){var t=this.fromData[e];t.isEdit=!1,this.fromData.splice(e,1,t)},editFromItem:function(e,t){this.currIndex=t;var n=Object(u["a"])(this.fromData[e].column[t]);this.currData=n,this.$refs["addFrom"].show()},deleteFromItem:function(e,t){this.fromData[e].column.splice(t,1)},editFromItemGroup:function(e){this.currIndex=e;var t=Object(u["a"])(this.fromData[e]);this.currData=t,this.$refs["addGroup"].show()},deleteFromItemGroup:function(e){this.fromData.splice(e,1)}},watch:{createInputBool:function(e){e&&this.getFlowformHandle()}}},b=g,v=(n("5b31"),n("2877")),_=Object(v["a"])(b,a,o,!1,null,null,null);t["default"]=_.exports},"88b0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("h3",[e._v("存储")]),n("el-tag",{staticClass:"title",attrs:{size:"small"}},[e._v("基本读写删(持久化存储)\n  ")]),n("div",{staticClass:"box"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.setItem({name:"username",value:"avuex"})}}},[e._v("set('username', 'avuex')\n    ")]),n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getItem({name:"username"})}}},[e._v("get('username')\n    ")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delItem({name:"username"})}}},[e._v("remove('username')\n    ")])],1),n("el-tag",{staticClass:"title",attrs:{size:"small"}},[e._v("设置session(session存储)\n  ")]),n("div",{staticClass:"box"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.setItem({name:"username",value:"avuex",type:"session"})}}},[e._v("set('username', 'avuex')\n    ")]),n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getItem({name:"username",type:"session"})}}},[e._v("get('username')\n    ")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.delItem({name:"username",type:"session"})}}},[e._v("remove('username')\n    ")])],1),n("el-tag",{staticClass:"title",attrs:{size:"small"}},[e._v("获取所有可以获得的数据\n  ")]),n("div",{staticClass:"box"},[n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getAll()}}},[e._v("getAll(持久化存储)\n    ")]),n("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.getAll({type:"session"})}}},[e._v("getAll(session存储)\n    ")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.clearAll()}}},[e._v("delAll(持久化存储)\n    ")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.clearAll({type:"session"})}}},[e._v("delAll(session存储)\n    ")])],1)],1)},o=[],i=(n("7f7f"),n("e3c4")),r={name:"store",methods:{setItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.value,a=e.type;Object(i["e"])({name:t,content:n,type:a}),this.$message("设置数据 ".concat(t," = ").concat(n))},getItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.type,a=Object(i["c"])({name:t,type:n});this.$message("获取数据 ".concat(t," = ").concat(a))},delItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.type;Object(i["d"])({name:t,type:n}),this.$message("删除数据 ".concat(t))},clearAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i["a"])(e),this.$message("清除全部数据完成")},getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i["b"])(e);console.log(t),this.$message("结果已经打印到控制台")}}},s=r,c=(n("8376"),n("2877")),l=Object(c["a"])(s,a,o,!1,null,null,null);t["default"]=l.exports},"88b6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.dept_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},o=[],i=(n("6762"),n("2fdb"),n("ac6a"),n("cebc")),r=n("fcb7"),s=n("5880"),c={data:function(){return{form:{},selectionList:[],page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,column:[{label:"部门名称",prop:"deptName",search:!0,rules:[{required:!0,message:"请输入部门名称",trigger:"blur"}]},{label:"上级部门",prop:"parentId",dicData:[],type:"tree",hide:!0,props:{label:"deptName",value:"_id"},rules:[{required:!1,message:"请选择上级部门",trigger:"click"}]},{label:"排序",prop:"sort",type:"number",rules:[{required:!0,message:"请输入排序",trigger:"blur"}]},{label:"备注",prop:"remark",span:24,rules:[{required:!1,message:"请输入备注",trigger:"blur"}]}]},data:[]}},computed:Object(i["a"])({},Object(s["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.dept_add,!1),viewBtn:this.vaildData(this.permission.dept_view,!1),delBtn:this.vaildData(this.permission.dept_delete,!1),editBtn:this.vaildData(this.permission.dept_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t.id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(r["a"])(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;Object(r["f"])(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["e"])(e._id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["e"])(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(r["b"])(this.form.id).then(function(e){n.form=e.data.data}),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r["d"])(e.currentPage,e.pageSize,n).then(function(e){var n=e.data.data;t.data=n;var a=t.$refs.crud.findColumnIndex("parentId");t.option.column[a].dicData=n})}}},l=c,u=n("2877"),p=Object(u["a"])(l,a,o,!1,null,null,null);t["default"]=p.exports},"894f":function(e,t,n){"use strict";var a=n("b6b0"),o=n.n(a);o.a},"8f6a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addfrom"},[n("el-dialog",{attrs:{title:"JSON(高级模式)",visible:e.addFromBool,width:"65%"},on:{"update:visible":function(t){e.addFromBool=t}}},[n("el-input",{attrs:{type:"textarea",rows:22},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addFromBool=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handlecreateInput}},[e._v("确 定")])],1)],1)],1)},o=[],i=n("d5bb"),r=i["a"],s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,null,null);t["default"]=c.exports},9277:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},o=[],i=n("2877"),r={},s=Object(i["a"])(r,a,o,!1,null,null,null);t["default"]=s.exports},9765:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{attrs:{option:e.option,data:e.data,page:e.page,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.client_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e()],1)],2)],1)},o=[],i=(n("6762"),n("2fdb"),n("ac6a"),n("cebc")),r=n("b5c6"),s=function(e,t,n){return Object(r["a"])({url:"/api/blade-system/client/list",method:"get",params:Object(i["a"])({},n,{current:e,size:t})})},c=function(e){return Object(r["a"])({url:"/api/blade-system/client/detail",method:"get",params:{id:e}})},l=function(e){return Object(r["a"])({url:"/api/blade-system/client/remove",method:"post",params:{ids:e}})},u=function(e){return Object(r["a"])({url:"/api/blade-system/client/submit",method:"post",data:e})},p=function(e){return Object(r["a"])({url:"/api/blade-system/client/submit",method:"post",data:e})},d=n("5880"),m={data:function(){return{form:{},page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{tip:!1,border:!0,index:!0,viewBtn:!0,selection:!0,column:[{label:"应用id",prop:"clientId",search:!0,rules:[{required:!0,message:"请输入客户端id",trigger:"blur"}]},{label:"应用密钥",prop:"clientSecret",search:!0,rules:[{required:!0,message:"请输入客户端密钥",trigger:"blur"}]},{label:"授权类型",prop:"authorizedGrantTypes",valueDefault:"refresh_token,password,authorization_code",rules:[{required:!0,message:"请输入授权类型",trigger:"blur"}]},{label:"授权范围",prop:"scope",valueDefault:"all",rules:[{required:!0,message:"请输入授权范围",trigger:"blur"}]},{label:"令牌秒数",prop:"accessTokenValidity",type:"number",valueDefault:3600,rules:[{required:!0,message:"请输入令牌过期秒数",trigger:"blur"}]},{label:"刷新秒数",prop:"refreshTokenValidity",type:"number",valueDefault:604800,hide:!0,rules:[{required:!0,message:"请输入刷新令牌过期秒数",trigger:"blur"}]},{label:"回调地址",prop:"webServerRedirectUri",hide:!0,rules:[{required:!0,message:"请输入回调地址",trigger:"blur"}]},{label:"资源集合",prop:"resourceIds",hide:!0,rules:[{message:"请输入资源集合",trigger:"blur"}]},{label:"权限",prop:"authorities",hide:!0,rules:[{message:"请输入权限",trigger:"blur"}]},{label:"自动授权",prop:"autoapprove",hide:!0,rules:[{message:"请输入自动授权",trigger:"blur"}]},{label:"附加说明",hide:!0,prop:"additionalInformation",span:24,rules:[{message:"请输入附加说明",trigger:"blur"}]}]},data:[]}},computed:Object(i["a"])({},Object(d["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.client_add),viewBtn:this.vaildData(this.permission.client_view),delBtn:this.vaildData(this.permission.client_delete),editBtn:this.vaildData(this.permission.client_edit)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t.id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;u(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;p(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return l(e.id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return l(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&c(this.form.id).then(function(e){n.form=e.data.data}),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(e.currentPage,e.pageSize,n).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})}}},f=m,h=n("2877"),g=Object(h["a"])(f,a,o,!1,null,null,null);t["default"]=g.exports},ab5c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("basic-container",[e._v("测试页")])],1)},o=[],i={name:"wel",data:function(){return{}},computed:{},created:function(){},methods:{}},r=i,s=n("2877"),c=Object(s["a"])(r,a,o,!1,null,"1f96fafa",null);t["default"]=c.exports},acbc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addGroup"},[n("el-dialog",{attrs:{title:"添加分组",visible:e.addFromBool,width:"65%"},on:{"update:visible":function(t){e.addFromBool=t}}},[n("avue-form",{ref:"avueForm",attrs:{option:e.option},on:{submit:e.submit},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)],1)},o=[],i=n("0e0b"),r=n("d9a3"),s={name:"addGroup",data:function(){return{addFromBool:!1,isNew:!0,form:{icon:"el-icon-info",label:"",prop:""},option:{labelWidth:120,column:[{label:"标题图标",prop:"icon",type:"icon-select",clearable:!0,iconList:[{label:"基本图标",list:["el-icon-info","el-icon-error","el-icon-error","el-icon-success","el-icon-warning","el-icon-question"]},{label:"方向图标",list:["el-icon-info","el-icon-back","el-icon-arrow-left","el-icon-arrow-down","el-icon-arrow-right","el-icon-arrow-up"]},{label:"符号图标",list:["el-icon-plus","el-icon-minus","el-icon-close","el-icon-check"]},{label:"阿里云图标",list:["iconfont icon-zhongyingwen","iconfont icon-rizhi1","iconfont icon-bug","iconfont icon-qq1","iconfont icon-weixin1"]}]},{label:"key",prop:"prop",rules:[{required:!0,message:"key",trigger:"blur"}]},{label:"标题",prop:"label",rules:[{required:!0,message:"请输入标题",trigger:"blur"}]}]}}},props:{data:{type:Object}},methods:{show:function(){this.addFromBool=!0},hide:function(){this.addFromBool=!1},clearData:function(){this.form={icon:"el-icon-info",label:"",prop:""},this.$refs["avueForm"]&&this.$refs["avueForm"].clearValidate()},submit:function(){this.$emit("submit",Object(i["a"])(this.form))}},watch:{data:function(e){var t=Object(r["a"])(e);this.isNew=t,t||(this.form={icon:e.icon||"el-icon-info",label:e.label,prop:e.prop})}}},c=s,l=n("2877"),u=Object(l["a"])(c,a,o,!1,null,null,null);t["default"]=u.exports},b6b0:function(e,t,n){},b979:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data,"before-open":e.beforeOpen,page:e.page},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"roleId",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.roleName))])]}},{key:"deptId",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.deptName))])]}},{key:"sex",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.sexName))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[e.permission.user_delete?n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]):e._e(),e.permission.user_reset?n("el-button",{attrs:{type:"primary",size:"small",plain:"",icon:"el-icon-refresh"},on:{click:e.handleReset}},[e._v("密码重置\n      ")]):e._e()],1)],2)],1)},o=[],i=(n("c5f6"),n("28a5"),n("6762"),n("2fdb"),n("ac6a"),n("cebc")),r=n("c0c7"),s=n("fcb7"),c=n("3528"),l=n("5880"),u=n("1ca4"),p={data:function(){var e=this,t=function(e,t,n){""===t?n(new Error("请输入密码")):n()},n=function(t,n,a){""===n?a(new Error("请再次输入密码")):n!==e.form.passWord?a(new Error("两次输入密码不一致!")):a()};return{form:{},selectionList:[],page:{pageSize:10,currentPage:1,total:0},init:{roleTree:[],deptTree:[]},option:{tip:!1,border:!0,index:!0,selection:!0,viewBtn:!0,dialogHeight:450,column:[{label:"登录账号",prop:"userName",search:!0,rules:[{required:!0,message:"请输入登录账号",trigger:"blur"}],span:u["a"].tenantMode?12:24},{label:"所属租户",prop:"tenantCode",type:"tree",dicUrl:"/api/blade-system/tenant/select",props:{label:"tenantName",value:"tenantCode"},hide:!u["a"].tenantMode,addDisplay:u["a"].tenantMode,editDisplay:u["a"].tenantMode,viewDisplay:u["a"].tenantMode,search:u["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"密码",prop:"passWord",hide:!0,editDisplay:!1,viewDisplay:!1,rules:[{required:!0,validator:t,trigger:"blur"}]},{label:"确认密码",prop:"passWord2",hide:!0,editDisplay:!1,viewDisplay:!1,rules:[{required:!0,validator:n,trigger:"blur"}]},{label:"用户昵称",prop:"name",search:!0,rules:[{required:!0,message:"请输入用户昵称",trigger:"blur"}]},{label:"所属角色",prop:"roleId",multiple:!0,type:"tree",dicData:[],props:{label:"roleName",value:"_id"},slot:!0,rules:[{required:!0,message:"请选择所属角色",trigger:"click"}]},{label:"所属部门",prop:"deptId",type:"tree",multiple:!0,dicData:[],props:{label:"deptName",value:"_id"},slot:!0,rules:[{required:!0,message:"请选择所属部门",trigger:"click"}]},{label:"手机号码",prop:"phone",search:!0,overHidden:!0},{label:"电子邮箱",prop:"email",hide:!0,overHidden:!0},{label:"用户性别",prop:"sex",type:"select",dicUrl:"/api/admin/getDict?code=sex",props:{label:"dictValue",value:"_id"}},{label:"账号状态",prop:"status",hide:!0,display:!1}]},data:[]}},watch:{"form.tenantCode":function(){var e=this;""!==this.form.tenantCode&&(Object(s["c"])(this.form.tenantCode).then(function(t){var n=e.$refs.crud.findColumnIndex("deptId");e.option.column[n].dicData=t.data.data}),Object(c["d"])(this.form.tenantCode).then(function(t){var n=e.$refs.crud.findColumnIndex("roleId");e.option.column[n].dicData=t.data.data}))}},computed:Object(i["a"])({},Object(l["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.user_add,!1),viewBtn:this.vaildData(this.permission.user_view,!1),delBtn:this.vaildData(this.permission.user_delete,!1),editBtn:this.vaildData(this.permission.user_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t._id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){var a=this;Object(r["a"])(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;Object(r["g"])(e).then(function(){n(),o.onLoad(o.page),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["e"])(e._id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["e"])(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},handleReset:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择账号密码重置为123456?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["f"])(e.ids)}).then(function(){e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e,t){var n=this;["edit","view"].includes(t)&&Object(r["d"])(this.form.id).then(function(e){n.form=e.data,n.form.deptId=n.form.deptId.split(","),n.form.deptId.forEach(function(e,t){n.form.deptId[t]=Number(e)}),n.form.roleId=n.form.roleId.split(","),n.form.roleId.forEach(function(e,t){n.form.roleId[t]=Number(e)})}),e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r["c"])(e.currentPage,e.pageSize,n).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records}),Object(s["c"])(this.form.tenantCode).then(function(e){var n=t.$refs.crud.findColumnIndex("deptId");t.option.column[n].dicData=e.data.data}),Object(c["d"])(this.form.tenantCode).then(function(e){var n=t.$refs.crud.findColumnIndex("roleId");t.option.column[n].dicData=e.data.data})}}},d=p,m=n("2877"),f=Object(m["a"])(d,a,o,!1,null,null,null);t["default"]=f.exports},bbc4:function(e,t,n){},bfb3:function(e,t,n){e.exports=n("4dc9")},c0c7:function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return p});var a=n("cebc"),o=n("b5c6"),i=function(e){return Object(o["a"])({url:"/api/blade-user/reset-password",method:"post",params:{userIds:e}})},r=function(e,t,n){return Object(o["a"])({url:"/api/user/userList",method:"get",params:Object(a["a"])({},n,{current:e,size:t})})},s=function(e){return Object(o["a"])({url:"/api/user/user",method:"delete",params:{ids:e}})},c=function(e){return Object(o["a"])({url:"/api/user/user",method:"post",data:e})},l=function(e){return Object(o["a"])({url:"/api/user/user",method:"put",data:e})},u=function(e){return Object(o["a"])({url:"/api/user/user",method:"get",params:{_id:e}})},p=function(e){return Object(o["a"])({url:"/api/user/getAuthor",method:"get",params:Object(a["a"])({},e)})}},d5bb:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__),F_code_kissplan_admin_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f499"),F_code_kissplan_admin_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(F_code_kissplan_admin_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__["a"]={name:"addfromJSON",data:function(){return{addFromBool:!1,json:""}},props:{data:{type:Array,default:function(){return[]}}},methods:{show:function(){this.addFromBool=!0},hide:function(){this.addFromBool=!1},handlecreateInput:function handlecreateInput(){var data=[];this.json&&(data=eval(this.json)),this.hide(),this.$emit("submit",data)},syntaxHeightlight:function(e){return"string"!==typeof e&&(e=F_code_kissplan_admin_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_1___default()(e,void 0,2)),e=e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){return/^"/.test(e)?/:$/.test(e)?"key":"string":/true|false/.test(e)?"boolean":/null/.test(e)&&"null",e})}},watch:{data:function(e){e&&(this.json=this.syntaxHeightlight(e))}}}},d731:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"wel__header"},[n("div",{staticClass:"wel__info"},[n("img",{staticClass:"wel__info-img",attrs:{src:e.userInfo.avatar,alt:""}}),n("div",{staticClass:"wel__info-content"},[n("div",{staticClass:"wel__info-title"},[e._v("\n          "+e._s(e.$t("wel.info"))+"\n        ")]),n("div",{staticClass:"wel__info-subtitle"},[e._v("\n          "+e._s(e.$t("wel.dept"))+"\n        ")])])]),n("div",{staticClass:"wel__extra"},[n("div",{staticClass:"wel__extra-item"},[n("p",{staticClass:"wel__extra-title"},[e._v("\n          "+e._s(e.$t("wel.count"))+"\n        ")]),n("p",{staticClass:"wel__extra-subtitle"},[e._v("\n          56\n        ")])]),n("div",{staticClass:"wel__extra-item"},[n("p",{staticClass:"wel__extra-title"},[e._v("\n          "+e._s(e.$t("wel.team"))+"\n        ")]),e._m(0)]),n("div",{staticClass:"wel__extra-item"},[n("p",{staticClass:"wel__extra-title"},[e._v("\n\n          "+e._s(e.$t("wel.project"))+"\n        ")]),n("p",{staticClass:"wel__extra-subtitle"},[e._v("\n          2,223\n        ")])])])]),n("basic-container",[n("avue-data-box",{attrs:{option:e.option1}})],1),n("el-row",{attrs:{span:24}},[n("el-col",{attrs:{span:18}},[n("basic-container",[n("avue-data-progress",{staticStyle:{"margin-bottom":"20px"},attrs:{option:e.option3}}),n("avue-data-tabs",{attrs:{option:e.option}})],1)],1),n("el-col",{attrs:{span:6}},[n("basic-container",[n("avue-data-icons",{attrs:{option:e.option2}})],1)],1)],1),n("basic-container",[n("avue-crud",{attrs:{option:e.option4,data:e.data}})],1)],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"wel__extra-subtitle"},[e._v("\n          8 "),n("span",[e._v("/ 24")])])}],i=n("cebc"),r=n("5880"),s={name:"wel",data:function(){return{data:[{rw:"这是一条工作任务",nr:"这是一条很长很长很长很长很长很长很长很长很长的工作内容",sj:"2019-01-01"},{rw:"这是一条工作任务",nr:"这是一条很长很长很长很长很长很长很长很长很长的工作内容",sj:"2019-01-01"},{rw:"这是一条工作任务",nr:"这是一条很长很长很长很长很长很长很长很长很长的工作内容",sj:"2019-01-01"},{rw:"这是一条工作任务",nr:"这是一条很长很长很长很长很长很长很长很长很长的工作内容",sj:"2019-01-01"}]}},computed:Object(i["a"])({},Object(r["mapGetters"])(["userInfo"]),{option1:function(){return{span:6,data:[{title:this.$t("wel.data4.column1"),count:12332,icon:"el-icon-warning",color:"rgb(49, 180, 141)",href:"https://avue.top",target:"_blank"},{title:this.$t("wel.data4.column2"),count:33,icon:"el-icon-view",color:"rgb(56, 161, 242)",href:"https://avue.top",target:"_blank"},{title:this.$t("wel.data4.column3"),count:2223,icon:"el-icon-setting",color:"rgb(117, 56, 199)",href:"https://avue.top",target:"_blank"},{title:this.$t("wel.data4.column4"),count:2223,icon:"el-icon-setting",color:"rgb(230, 71, 88)",href:"https://avue.top",target:"_blank"}]}},option3:function(){return{span:8,data:[{title:this.$t("wel.data3.column1"),color:"rgb(178, 159, 255)",count:32,href:"https://avue.top",target:"_blank"},{title:this.$t("wel.data3.column2"),color:"rgb(230, 71, 88)",count:32,href:"https://avue.top",target:"_blank"},{title:this.$t("wel.data3.column3"),color:"rgb(230, 71, 88)",count:32,href:"https://avue.top",target:"_blank"}]}},option2:function(){return{span:12,data:[{title:this.$t("wel.data2.column1"),count:12678,icon:"el-icon-tickets",href:"https://avue.top",target:"_blank"},{title:this.$t("wel.data2.column2"),count:22139,icon:"el-icon-success",href:"https://avue.top",target:"_blank"},{title:this.$t("wel.data2.column3"),count:35623,icon:"el-icon-info",href:"https://avue.top",target:"_blank"},{title:this.$t("wel.data2.column4"),count:16826,icon:"el-icon-message",href:"https://avue.top",target:"_blank"}]}},option:function(){return{span:8,data:[{title:this.$t("wel.data.column1"),subtitle:this.$t("wel.data.subtitle"),count:7993,allcount:10222,text:this.$t("wel.data.text1"),color:"rgb(27, 201, 142)",key:this.$t("wel.data.key1")},{title:this.$t("wel.data.column2"),subtitle:this.$t("wel.data.subtitle"),count:3112,allcount:10222,text:this.$t("wel.data.text2"),color:"rgb(230, 71, 88)",key:this.$t("wel.data.key2")},{title:this.$t("wel.data.column3"),subtitle:this.$t("wel.data.subtitle"),count:908,allcount:10222,text:this.$t("wel.data.text3"),color:"rgb(56, 161, 242)",key:this.$t("wel.data.key3")}]}},option4:function(){return{index:!0,column:[{label:this.$t("wel.table.rw"),prop:"rw"},{width:500,label:this.$t("wel.table.nr"),prop:"nr",overHidden:!0},{label:this.$t("wel.table.sj"),prop:"sj"}]}}}),created:function(){},methods:{}},c=s,l=(n("894f"),n("2877")),u=Object(l["a"])(c,a,o,!1,null,"332773f0",null);t["default"]=u.exports},d9a3:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("28a5"),n("a745"),n("a4bb"),n("ac6a"),n("bfb3"),n("e814");function a(e){var t=!0;for(var n in e)n&&(t=!1);return t}},e5c0:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addfrom"},[n("el-dialog",{attrs:{title:"添加表单",visible:e.addFromBool,width:"65%"},on:{"update:visible":function(t){e.addFromBool=t}}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"组",prop:"group"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择组别"},model:{value:e.ruleForm.group,callback:function(t){e.$set(e.ruleForm,"group",t)},expression:"ruleForm.group"}},e._l(e.groupList||[],function(e){return n("el-option",{key:e.prop,attrs:{label:e.label,value:e.prop}})}),1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"名称",prop:"label"}},[n("el-input",{model:{value:e.ruleForm.label,callback:function(t){e.$set(e.ruleForm,"label",t)},expression:"ruleForm.label"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"key",prop:"prop"}},[n("el-input",{model:{value:e.ruleForm.prop,callback:function(t){e.$set(e.ruleForm,"prop",t)},expression:"ruleForm.prop"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"列宽",prop:"span"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动区域"},model:{value:e.ruleForm.span,callback:function(t){e.$set(e.ruleForm,"span",t)},expression:"ruleForm.span"}},[n("el-option",{attrs:{label:"1",value:"6"}}),n("el-option",{attrs:{label:"2",value:"12"}}),n("el-option",{attrs:{label:"3",value:"18"}}),n("el-option",{attrs:{label:"4",value:"24"}})],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"类型",prop:"type"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动区域"},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[n("el-option",{attrs:{label:"输入框",value:"input"}}),n("el-option",{attrs:{label:"下拉框",value:"select"}}),n("el-option",{attrs:{label:"日期",value:"date"}}),n("el-option",{attrs:{label:"时间",value:"time"}}),n("el-option",{attrs:{label:"日期时间",value:"datetime"}}),n("el-option",{attrs:{label:"单选框",value:"radio"}}),n("el-option",{attrs:{label:"多选框",value:"checkbox"}}),n("el-option",{attrs:{label:"开关",value:"switch"}}),n("el-option",{attrs:{label:"多行文本",value:"textarea"}})],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"默认值",prop:"valueDefault"}},[n("el-input",{model:{value:e.ruleForm.valueDefault,callback:function(t){e.$set(e.ruleForm,"valueDefault",t)},expression:"ruleForm.valueDefault"}})],1)],1),"date"===e.ruleForm.type||"time"===e.ruleForm.type||"datetime"===e.ruleForm.type?n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"显示值时间格式",prop:"format"}},[n("el-input",{model:{value:e.ruleForm.format,callback:function(t){e.$set(e.ruleForm,"format",t)},expression:"ruleForm.format"}})],1)],1):e._e(),"date"===e.ruleForm.type||"time"===e.ruleForm.type||"datetime"===e.ruleForm.type?n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"真实值的时间格式",prop:"valueFormat"}},[n("el-input",{model:{value:e.ruleForm.valueFormat,callback:function(t){e.$set(e.ruleForm,"valueFormat",t)},expression:"ruleForm.valueFormat"}})],1)],1):e._e(),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"是否必填",prop:"required"}},[n("el-switch",{model:{value:e.ruleForm.required,callback:function(t){e.$set(e.ruleForm,"required",t)},expression:"ruleForm.required"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"placeholder",prop:"placeholder"}},[n("el-input",{model:{value:e.ruleForm.placeholder,callback:function(t){e.$set(e.ruleForm,"placeholder",t)},expression:"ruleForm.placeholder"}})],1)],1),"checkbox"===e.ruleForm.type||"radio"===e.ruleForm.type||"select"===e.ruleForm.type?n("el-col",{attrs:{span:24}},["checkbox"===e.ruleForm.type||"radio"===e.ruleForm.type||"select"===e.ruleForm.type?n("el-form-item",{attrs:{label:"dicUrl",prop:"dicUrl"}},[n("el-input",{attrs:{placeholder:"下拉框、单选框、多选框v-for 渲染的数据来源字段接口名称"},model:{value:e.ruleForm.dicUrl,callback:function(t){e.$set(e.ruleForm,"dicUrl",t)},expression:"ruleForm.dicUrl"}}),n("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{placeholder:"label"},model:{value:e.ruleForm.props.label,callback:function(t){e.$set(e.ruleForm.props,"label",t)},expression:"ruleForm.props.label"}})],1),n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{placeholder:"value"},model:{value:e.ruleForm.props.value,callback:function(t){e.$set(e.ruleForm.props,"value",t)},expression:"ruleForm.props.value"}})],1)],1)],1):e._e(),n("el-form-item",{attrs:{label:"自定义options",prop:"placeholder"}},[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("el-button",{staticStyle:{float:"right","margin-top":"10px"},attrs:{size:"small",type:"primary"},on:{click:function(t){e.ruleForm.dicData=e.ruleForm.dicData||[],e.ruleForm.dicData.push({label:"",value:"",time:new Date/1})}}},[e._v("添加")]),n("el-alert",{staticStyle:{width:"500px"},attrs:{title:"dicUrl 和 自定义options 只能存在一个,同时存在，以自定义options优先",closable:!1,type:"warning"}})],1),n("transition-group",{attrs:{name:"flip-list",tag:"div"}},e._l(e.ruleForm.dicData||[],function(t,a){return n("el-row",{key:t.time,attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{placeholder:"label"},model:{value:t.label,callback:function(n){e.$set(t,"label",n)},expression:"item.label"}})],1),n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{placeholder:"value"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}})],1),n("el-col",{attrs:{span:8}},[n("el-button",{attrs:{size:"mini",type:"primary",disabled:0==a},on:{click:function(t){return e.moveUp(a)}}},[e._v("上移")]),n("el-button",{attrs:{size:"mini",type:"primary",disabled:a==e.ruleForm.dicData.length-1},on:{click:function(t){return e.moveDown(a)}}},[e._v("下移")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteOptions(a)}}},[e._v("删除")])],1)],1)}),1)],1)],1):e._e()],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addFromBool=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handlecreateInput("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},o=[],i=n("59ad"),r=n.n(i),s=n("0e0b"),c=n("d9a3"),l={name:"addfrom",data:function(){return{addFromBool:!1,isNew:!0,ruleForm:{group:"",label:"",prop:"",span:"24",type:"",valueDefault:"",required:"",placeholder:"",dicUrl:"",props:{label:"",value:""},dicData:[],valueFormat:"",format:""},rules:{group:[{required:!0,message:"请输入名称",trigger:"blur"}],label:[{required:!0,message:"请输入名称",trigger:"blur"}],prop:[{required:!0,message:"请输入key",trigger:"blur"}],span:[{required:!0,message:"请选择列宽",trigger:"change"}],type:[{required:!0,message:"请选择类型",trigger:"change"}]}}},props:{data:{type:Object},groupList:{type:Array}},methods:{show:function(){this.addFromBool=!0},hide:function(){this.addFromBool=!1},clear:function(){this.$refs["ruleForm"]&&this.$refs["ruleForm"].resetFields()},handlecreateInput:function(e){var t=this,n=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=Object(s["a"])(t.ruleForm);a.span=r()(a.span),a.required&&("select"==a.type||"radio"==a.type||"checkbox"==a.type?a.rules=[{required:!0,message:"".concat(a.label,"不能为空"),trigger:"change"}]:a.rules=[{required:!0,message:"".concat(a.label,"不能为空"),trigger:"blur"}]),a.dicUrl&&delete a.dicData,n.$emit("submit",a)})},moveUp:function(e){var t=Object(s["a"])(this.ruleForm.dicData[e]);this.ruleForm.dicData.splice(e,1),this.ruleForm.dicData.splice(e-1,0,t)},moveDown:function(e){var t=Object(s["a"])(this.ruleForm.dicData[e]);this.ruleForm.dicData.splice(e,1),this.ruleForm.dicData.splice(e+1,0,t)},deleteOptions:function(e){this.ruleForm.dicData.splice(e,1)}},watch:{data:function(e){var t=Object(c["a"])(e);this.isNew=t,t||(this.ruleForm={group:e.group,label:e.label,prop:e.prop,span:e.span+"",type:e.type,valueDefault:e.valueDefault,required:e.required,placeholder:e.placeholder,dicUrl:e.dicUrl,props:{label:e.props?e.props.label:"",value:e.props?e.props.value:""},dicData:e.dicData,valueFormat:e.valueFormat,format:e.format})}}},u=l,p=(n("2ec8"),n("2877")),d=Object(p["a"])(u,a,o,!1,null,null,null);t["default"]=d.exports},eb75:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{attrs:{option:e.option,data:e.data,page:e.page,"upload-before":e.uploadBefore,permission:e.permissionList,"before-open":e.beforeOpen},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},scopedSlots:e._u([{key:"type",fn:function(t){var a=t.row;return[n("el-tag",[e._v(e._s(a.typeName))])]}},{key:"avatarImg",fn:function(e){var t=e.row;return[n("div",{staticStyle:{height:"50px",width:"50px","border-radius":"25px",overflow:"hidden"}},[n("img",{staticStyle:{height:"50px"},attrs:{src:t.avatarImg,alt:""}})])]}},{key:"name",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(a.name||a.userName))])]}},{key:"status",fn:function(t){var a=t.row;return[n("span",[e._v(e._s(1==a.status?"启用":"禁用"))])]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},o=[],i=(n("ac6a"),n("cebc")),r=n("c0c7"),s=n("5880"),c={data:function(){return{form:{},page:{pageSize:10,currentPage:1,total:0},selectionList:[],option:{tip:!1,border:!0,viewBtn:!0,selection:!0,column:[{label:"头像",prop:"avatarImg",slot:!0},{label:"作者",prop:"name",slot:!0,search:!0},{label:"性别",prop:"sex",dicUrl:"/api/admin/getDict?code=sex",props:{label:"dictValue",value:"_id"}},{label:"电话",prop:"phone"},{label:"email",prop:"email"},{label:"年龄",prop:"age"},{label:"关注人数",prop:"followNum"},{label:"备注",prop:"remark"},{label:"状态",prop:"status",slot:!0}]},data:[]}},computed:Object(i["a"])({},Object(s["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:!1,viewBtn:!0,delBtn:!1,editBtn:!1}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t._id)}),e.join(",")}}),methods:{rowSave:function(e,t,n){},rowUpdate:function(e,t,n,a){},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},beforeOpen:function(e){e()},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.releaseTimeRange,o=Object(i["a"])({},n);a&&(o=Object(i["a"])({},n,{releaseTime_gt:a[0],releaseTime_lt:a[1]}),o.releaseTimeRange=null),Object(r["b"])(e.currentPage,e.pageSize,o).then(function(e){var n=e.data.data;t.page.total=n.total,t.data=n.records})},uploadBefore:function(e,t,n){console.log(e.type);var a=["image/png","image/jpeg"].indexOf(e.type)>-1,o=e.size/1024/1024<1;return a?o?t():(this.$message.error("上传头像图片大小不能超过 2MB!"),n()):(this.$message.error("上传头像图片只能是 JPG 格式!"),n())}}},l=c,u=n("2877"),p=Object(u["a"])(l,a,o,!1,null,null,null);t["default"]=p.exports},f982:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("basic-container",[n("avue-crud",{ref:"crud",attrs:{option:e.option,data:e.data},on:{"row-del":e.rowDel,"row-update":e.rowUpdate,"row-save":e.rowSave,"search-change":e.searchChange,"search-reset":e.searchReset,"selection-change":e.selectionChange,"current-change":e.currentChange,"size-change":e.sizeChange,"on-load":e.onLoad},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("template",{slot:"menuLeft"},[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleDelete}},[e._v("删 除\n      ")]),n("el-button",{attrs:{size:"small",icon:"el-icon-delete",plain:""},on:{click:e.handleRole}},[e._v("权限设置\n      ")])],1)],2),n("el-dialog",{attrs:{title:"角色配置",visible:e.box,width:"20%"},on:{"update:visible":function(t){e.box=t}}},[n("el-tree",{ref:"tree",attrs:{data:e.list,"show-checkbox":"","node-key":"_id","default-checked-keys":e.defaultObj,"default-expanded-keys":e.expandedObj,props:e.props}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.box=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},o=[],i=(n("28a5"),n("ac6a"),n("cebc")),r=n("3528"),s=n("a6dc"),c=n("5880"),l=n("1ca4"),u={data:function(){return{form:{},box:!1,props:{label:"name",value:"_id"},list:[],defaultObj:[],expandedObj:[],selectionList:[],page:{pageSize:10,currentPage:1,total:0},option:{tip:!1,tree:!0,border:!0,index:!0,selection:!0,viewBtn:!0,dialogWidth:300,dialogHeight:400,column:[{label:"角色名称",prop:"roleName",search:!0,span:24,rules:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},{label:"所属租户",prop:"tenantCode",type:"tree",dicUrl:"/api/blade-system/tenant/select",addDisplay:!1,editDisplay:!1,viewDisplay:l["a"].tenantMode,span:24,props:{label:"tenantName",value:"tenantCode"},hide:!l["a"].tenantMode,search:l["a"].tenantMode,rules:[{required:!0,message:"请输入所属租户",trigger:"click"}]},{label:"角色别名",prop:"roleAlias",search:!0,span:24,rules:[{required:!0,message:"请输入角色别名",trigger:"blur"}]},{label:"上级角色",prop:"parentId",dicData:[],type:"tree",hide:!0,span:24,props:{label:"roleName",value:"_id"},rules:[{required:!1,message:"请选择上级角色",trigger:"click"}]},{label:"角色排序",prop:"sort",type:"number",span:24,rules:[{required:!0,message:"请输入角色排序",trigger:"blur"}]}]},data:[]}},computed:Object(i["a"])({},Object(c["mapGetters"])(["permission"]),{permissionList:function(){return{addBtn:this.vaildData(this.permission.role_add,!1),viewBtn:this.vaildData(this.permission.role_view,!1),delBtn:this.vaildData(this.permission.role_delete,!1),editBtn:this.vaildData(this.permission.role_edit,!1)}},ids:function(){var e=[];return this.selectionList.forEach(function(t){e.push(t._id)}),e.join(",")}}),methods:{submit:function(){var e=this,t=this.$refs.tree.getCheckedKeys().join(",");Object(r["e"])(this.ids.split(",")[0],t).then(function(){e.box=!1,e.$message({type:"success",message:"操作成功!"}),e.onLoad(e.page)})},rowSave:function(e,t,n){var a=this;Object(r["a"])(e).then(function(){t(),a.onLoad(a.page),a.$message({type:"success",message:"操作成功!"})},function(e){n(),console.log(e)})},rowUpdate:function(e,t,n,a){var o=this;Object(r["g"])(e).then(function(){o.onLoad(o.page),n(),o.$message({type:"success",message:"操作成功!"})},function(e){a(),console.log(e)})},rowDel:function(e){var t=this;this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["f"])(e._id)}).then(function(){t.onLoad(t.page),t.$message({type:"success",message:"操作成功!"})})},searchReset:function(){this.onLoad(this.page)},searchChange:function(e){this.onLoad(this.page,e)},selectionChange:function(e){this.selectionList=e},handleRole:function(){var e=this;1===this.selectionList.length?(this.defaultObj=[],Object(s["b"])().then(function(t){return e.list=t.data.data,e.expandedObj=[],e.list&&e.list.length&&e.list.forEach(function(t){e.expandedObj.push(t._id)}),Object(r["c"])(e.ids.split(",")[0])}).then(function(t){e.defaultObj=t.data.data,e.box=!0})):this.$message.warning("只能选择一条数据")},handleDelete:function(){var e=this;0!==this.selectionList.length?this.$confirm("确定将选择数据删除?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(r["f"])(e.ids)}).then(function(){e.onLoad(e.page),e.$message({type:"success",message:"操作成功!"}),e.$refs.crud.toggleSelection()}):this.$message.warning("请选择至少一条数据")},currentChange:function(e){this.page.currentPage=e},sizeChange:function(e){this.page.pageSize=e},onLoad:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r["b"])(e.currentPage,e.pageSize,n).then(function(e){var n=e.data.data;t.data=n,Object(r["d"])().then(function(e){var n=e.data.data,a=t.$refs.crud.findColumnIndex("parentId");t.option.column[a].dicData=n})})}}},p=u,d=n("2877"),m=Object(d["a"])(p,a,o,!1,null,null,null);t["default"]=m.exports},fcb7:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var a=n("cebc"),o=n("b5c6"),i=function(e,t,n){return Object(o["a"])({url:"/api/admin/dept",method:"get",params:Object(a["a"])({},n)})},r=function(e){return Object(o["a"])({url:"/api/admin/dept",method:"delete",params:{ids:e}})},s=function(e){return Object(o["a"])({url:"/api/admin/dept",method:"post",data:e})},c=function(e){return Object(o["a"])({url:"/api/admin/dept",method:"put",data:e})},l=function(e){return Object(o["a"])({url:"/api/admin/dept",method:"get",params:{_id:e}})},u=function(){return Object(o["a"])({url:"/api/admin/getList",method:"get",params:{}})}}}]);